{"mappings":"AAEA,MAAMA,EAAO,CACXC,WAAYC,SAASC,cAAc,mBACnCC,kBAAmBF,SAASC,cAAc,0BAC1CE,YAAaH,SAASC,cAAc,8BAGtCH,EAAKC,WAAWK,iBAAiB,UAKjC,SAAkBC,GAChBA,EAAEC,iBAqCMR,EAAKI,kBAAkBK,UAAY,GAnC3CC,EAAeC,MAAQJ,EAAEK,cAAcC,SAASF,MAAMG,MACtDJ,EAAeK,YACfL,EAAeM,gBAAgBC,MAAKC,IAClCC,EAAaD,EAAK,G,IAVtBlB,EAAKK,YAAYC,iBAAiB,SAclC,WACEI,EAAeM,gBAAgBC,MAAKC,IAClCC,EAAaD,EAAK,G,IAdtB,MAAMR,EAAiB,ICXR,MAMbM,cAAcI,GACZ,MAKMC,EAAM,uCAAuCC,KAAKF,+BAA+BE,KAAKC,OAC5F,OAAOC,MAAMH,EANG,CACdI,QAAS,CACPC,cAAe,sCAKhBT,MAAKU,GAAKA,EAAEC,SACZX,MAAKC,IACJI,KAAKO,gBACLC,QAAQC,IAAIb,EAAKc,UACVd,EAAKc,W,CAIlBH,gBACEP,KAAKC,MAAQ,C,CAGfR,YACEO,KAAKC,KAAO,C,CAGVZ,YACF,OAAOW,KAAKF,W,CAGVT,UAAMsB,GACRX,KAAKF,YAAca,C,CAlCrBC,cACEZ,KAAKF,YAAc,GACnBE,KAAKC,KAAO,C,GD8BhB,SAASJ,EAAaa,GACpB,MAAMG,EAASH,EACZI,KACC,EAACf,IAAEA,EAAGgB,WAAEA,EAAUC,MAAEA,EAAKC,OAAEA,EAAMC,YAAEA,KAAkB,sBAC5CnB,2FAESgB,2CACNC,qCACUC,yBACXC,+CAKZC,KAAK,IACRzC,EAAKI,kBAAkBsC,mBAAmB,YAAaP,E","sources":["src/index.js","src/js/components/new-service.js"],"sourcesContent":["import NewsApiService from './js/components/new-service.js';\n// import articlesTpl from './articles.hbs';\nconst refs = {\n  searchForm: document.querySelector('.js-search-form'),\n  articlesContainer: document.querySelector('.js-articles-container'),\n  loadMoreBtn: document.querySelector('[data-action=\"load-more\"]'),\n};\n\nrefs.searchForm.addEventListener('submit', onSearch);\nrefs.loadMoreBtn.addEventListener('click', onLoadMore);\n\nconst newsApiService = new NewsApiService();\n\nfunction onSearch(e) {\n  e.preventDefault();\n  clearArticlesContainer();\n  newsApiService.query = e.currentTarget.elements.query.value;\n  newsApiService.resetPage();\n  newsApiService.fetchArticles().then(data => {\n    createMarkup(data);\n  });\n}\n\nfunction onLoadMore() {\n  newsApiService.fetchArticles().then(data => {\n    createMarkup(data);\n  });\n}\n\n// function appendArticlesMarkup(articles) {\n//   refs.articlesContainer.insertAdjacentHTML('beforeend', articlesTpl(articles));\n// }\n\nfunction createMarkup(articles) {\n  const markup = articles\n    .map(\n      ({ url, urlToImage, title, author, description }) => `<li>\n    <a href=\"${url}\" target=\"_blank\" rel=\"noopener noreferrer\">\n        <article>\n            <img src=\"${urlToImage}\" alt=\"\" width=\"480\">\n            <h2>${title}</h2>\n            <p>Posted by: ${author}</p>\n            <p>${description}</p>\n        </article>\n    </a>\n</li>`\n    )\n    .join('');\n  refs.articlesContainer.insertAdjacentHTML('beforeend', markup);\n}\nfunction clearArticlesContainer() {\n  return (refs.articlesContainer.innerHTML = '');\n}\n","export default class NewsApiService {\n  constructor() {\n    this.searchQuery = '';\n    this.page = 1;\n  }\n\n  fetchArticles(searchQuery) {\n    const options = {\n      headers: {\n        Authorization: '7e67887a883b4246beb620db5dcff9af',\n      },\n    };\n    const url = `https://newsapi.org/v2/everything?q=${this.searchQuery}&pageSize=4&page=${this.page}`;\n    return fetch(url, options)\n      .then(r => r.json())\n      .then(data => {\n        this.incrementPage();\n        console.log(data.articles);\n        return data.articles;\n      });\n  }\n\n  incrementPage() {\n    this.page += 1;\n  }\n\n  resetPage() {\n    this.page = 1;\n  }\n\n  get query() {\n    return this.searchQuery;\n  }\n\n  set query(newQuery) {\n    this.searchQuery = newQuery;\n  }\n}\n"],"names":["$1f0dc3b9307be026$var$refs","searchForm","document","querySelector","articlesContainer","loadMoreBtn","addEventListener","e","preventDefault","innerHTML","$1f0dc3b9307be026$var$newsApiService","query","currentTarget","elements","value","resetPage","fetchArticles","then","data","$1f0dc3b9307be026$var$createMarkup","searchQuery","url","this","page","fetch","headers","Authorization","r","json","incrementPage","console","log","articles","newQuery","constructor","markup","map","urlToImage","title","author","description","join","insertAdjacentHTML"],"version":3,"file":"index.b000cea8.js.map"}